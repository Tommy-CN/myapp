webpackJsonp([4],{FVKL:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("qmEX"),a={name:"signUp",data:function(){return{loading:!1,showCode:!1,email:"",password:"",code:""}},methods:{sendCode:function(){var t=this;o.a.post("/api/sign/sendEmail",{email:t.email}).then(function(e){200===e.code||t.prompt("error",e.msg)}).catch(function(e){t.loading=!1,t.prompt("error","通信错误稍后再试")})},prompt:function(t,e){this.$store.commit("timerStart",{time:3}),this.$store.dispatch("timer",{type:t,info:e})},signUp:function(){var t=this;if(this.loading)return!1;this.loading=!0,o.a.post("/api/sign/signUp",{email:t.email,password:t.password,code:t.code}).then(function(e){t.loading=!1,200===e.code?t.$router.replace("/"):t.prompt("error",e.msg)}).catch(function(e){t.loading=!1,t.prompt("error","通信错误稍后再试")})}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sign"},[i("div",{staticClass:"signForm"},[i("h2",{staticClass:"signTitle"},[t._v("注册")]),t._v(" "),i("div",{staticClass:"signInput"},[i("input",{directives:[{name:"model",rawName:"v-model.tirm",value:t.email,expression:"email",modifiers:{tirm:!0}}],attrs:{type:"text",placeholder:"请输入正确的邮箱地址",maxlength:"20",autocomplete:"off"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"signInput"},[i("input",{directives:[{name:"model",rawName:"v-model.tirm",value:t.password,expression:"password",modifiers:{tirm:!0}}],attrs:{type:"password",placeholder:"请输入6-12密码",maxlength:"12",autocomplete:"off"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"signInput"},[i("input",{directives:[{name:"model",rawName:"v-model.tirm",value:t.code,expression:"code",modifiers:{tirm:!0}}],attrs:{type:"password",placeholder:"请输入6位邮箱验证码",maxlength:"6",autocomplete:"off"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),i("div",{staticClass:"sendCode",class:[t.email?"active":""],on:{click:function(e){t.email&&t.sendCode()}}},[t._v("发送验证码")])]),t._v(" "),i("button",{staticClass:"submitBtn",class:[t.email&&t.password&&t.code?"active":"",t.loading?"loading":""],attrs:{type:"button"},on:{click:function(e){t.email&&t.password&&t.code&&t.signUp()}}},[t._v("确定")])])])},staticRenderFns:[]},n=i("8AGX")(a,s,!1,function(t){i("VMjt")},"data-v-ad232218",null);e.default=n.exports},VMjt:function(t,e){}});
//# sourceMappingURL=4.2c5ce79162880c6e996d.js.map